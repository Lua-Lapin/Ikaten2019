# Ikaten2019
jsonファイルを書き換えると自動的に描写されます  
[プロジェクションマッピング](https://akatsuki1910.github.io/Ikaten2019/index.html)  
## jsonの書き方
|変数名|値|詳細|
|--|--|--|
| src | 画像 | pic/*.png |
| num | 種類 | 1:魚,2:浮遊 |
| dir | 向き | 0:右,1:左 |

## 表示部分
### index.html
表示させるもの。F11のあとF5
### index.js
動く部分。three.js+pixi.js
### back.js
背景画像がかわる部分。重いと動かない。pixi.js
### main.css
canvasの体裁を整えるもの。
### pic.json
pictureが入るもの。
### 使用ライブラリ
- jquery-3.3.1.min.js
- pixi.min.js
- three.min.js

## java
外部APIが足りてないので動かすときはJacksonとSpire.pdfを入れてから動かしてください
突貫工事で作ったので、恐ろしいくらいカオスな設計＆コードになってますが許してください

### Main
最初に起動するためだけに存在してる
### Window
最初に出るGUIを表示して管理するクラス  
疲れすぎててかたっぱしらからfeeld変数になってる
### Json
JSONファイルの読み書きをしている
### PreWindow
画像を編集するGUIを管理してる  
### Previwe
画像を回転するだけ  
### PdfToPng
pdfを読み込んでpngを吐き出す
### Conversion
画像の透過処理
### MLisner
画像編集画面において、マウスクリックを取得してる
### Trimming
画像のトリミング処理
### DrawCanvas
画像編集画面で画像表示をしてる

### 使い方
1. 一番上に作業するファイルパスを入力(絶対パス)
2. ２段目に読み込むpdfの名前を入力(1.pdfなら、１)
3. getボタンを押す
4. 開いた画面で画像の回転角度をクリック
5. 画像をクリックした後、切りたい方向のボタンを押すとトリミングができます
6. successボタンで画像を保存したのち、JSONファイルに書き込みが行われます
  
JSONファイルの追加、削除は一番上のloadボタンをクリックして、３，４段目のボタンをクリックすることでできます  
削除はドロップダウンリスト、追加はpngファイルの名前を入力してください
